<mat-sidenav-container>
  <mat-sidenav #sidenav class="sidenav" mode="side" position="end" opened disableClose
    [ngClass]="{ 'opened': sidenavOpened, 'closed': !sidenavOpened }"
  >
    <app-sidenav
      [variant]="variantString"
      [gene]="gene"
      (change)="toggleSidenav($event)"
    ></app-sidenav>
  </mat-sidenav>

  <mat-sidenav-content id="human-result-container"
    [ngClass]="{ 'sidenav-opened': sidenavOpened, 'sidenav-closed': !sidenavOpened }"
  >
    <div id="TOP"></div>
    <app-navbar showSearch="true" showMenuButton="true"></app-navbar>
    <div *ngIf="gene !== null || variant" class="container-fluid py-5 px-md-5">

      <div class="title" *ngIf="gene || variant">
        <h1 *ngIf="gene" >{{ gene.symbol }}</h1>
        <h1 *ngIf="gene && variant">&nbsp;/&nbsp;</h1>
        <h1 *ngIf="variant">{{ variantString }}</h1>
      </div>
      <div class="title" *ngIf="proteinInput">
        <h1>{{ proteinInput }}</h1>
      </div>

      <div class="subtitle mb-4">
        <h4 *ngIf="gene">
          <span class="label">Name</span>
          {{ gene.name }}
        </h4>
        <h4 *ngIf="gene && gene['alias']">
          <span class="label">Aliases</span>
          {{ gene.alias.join(', ') }}
        </h4>
      </div>

      <!--   2. OMIM text description -->
      <div class="row mb-5" *ngIf="gene && omimData && omimData.description">
        <div class="col-12">
          <h4 class="mb-3">OMIM Description of {{ gene.symbol }}</h4>
          <p class="mt-0 mb-3" *ngIf="omimData['title']">{{ omimData['title'] }}</p>
          <p class="e2e-intter-html-bound mt-0 mb-3" [innerHTML]="omimData.description"></p>
        </div>
      </div>

      <h2 class="mb-3 text-uppercase">
        Disease Data
      </h2>

      <div class="row section mb-5" id="OMIM">
        <div class="col-12">
          <!-- OMIM starts -->
          <app-omim
            [gene]="gene"
            (dataChange)="omimDataChange($event)"
          ></app-omim>
        </div>
      </div>

      <div class="row section mb-5" id="DbNSFP">
        <div class="col-12">
          <!-- dbNSFP starts -->
          <app-dbnsfp [variant]="variant"></app-dbnsfp>
        </div>
      </div>

      <div class="row section mb-5" id="ClinVar">
        <div class="col-12">
          <!-- ClinVar starts -->
          <app-clinvar [gene]="gene"></app-clinvar>
        </div>
      </div>

      <div class="row section mb-5" id="Geno2MP">
        <div class="col-12">
          <app-geno2mp
            [gene]="gene"
            [variant]="variant"
          ></app-geno2mp>
        </div>
      </div>

      <mat-divider class="mb-5"></mat-divider>

      <h2 class="mb-3 text-uppercase">Control Data</h2>

      <div class="row section mb-5" id="GnomAD">
        <div class="col-12 mb-3">
          <!-- gnomAD starts -->
          <div class="row">
            <div class="col-12">
              <h3 class="mb-3 d-inline-block align-middle">gnomAD</h3>
              <a class="mb-3 d-inline-block ml-3 align-middle"
                *ngIf="gene && gene.xref && gene.xref.ensemblId"
                href="https://gnomad.broadinstitute.org/gene/{{ gene.xref.ensemblId }}"
                target="_blank"
              >
                <button mat-button color="primary">
                  <mat-icon class="mr-1 icon-18px">open_in_new</mat-icon>
                  More on gnomAD
                </button>
              </a>
            </div>
          </div>

          <!-- gnomAD variant -->
          <div class="row mb-3">
            <div class="col-12">
              <h4 class="mt-0 mb-3">
                Population Allele Frequencies of {{ variantString }} from gnomAD
              </h4>
              <app-gnom-ad
                [variant]="variant"
              ></app-gnom-ad>
            </div>
          </div>

          <!-- gnomAD gene -->
          <div class="row">
            <div class="col-12">
              <h4 class="mt-0 mb-3">
                Control Population Summary of {{ gene.symbol }} from gnomAD
              </h4>
              <app-gnom-ad-gene
                [gene]="gene"
              ></app-gnom-ad-gene>
            </div>
          </div>
        </div>
      </div>

      <div class="row section mb-5" id="DGV">
        <div class="col-12">
          <app-dgv
            [variant]="variant"
            [gene]="gene"
          ></app-dgv>
        </div>
      </div>

      <div class="row section mb-5" id="DECIPHER-Control">
        <div class="col-12">
          <app-decipher
            [gene]="gene"
            [variant]="variant"
          ></app-decipher>
        </div>
      </div>

      <div class="row section mb-5" id="phenotypes">
        <div class="col-12">
          <app-phenotypes
            [gene]="gene"
            [orthologs]="orthologs"
          ></app-phenotypes>
        </div>
      </div>

    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<app-scroll-top-button
  [right]="sidenavOpened ? '262px' : '84px'"
></app-scroll-top-button>